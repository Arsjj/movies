{"version":3,"file":"static/js/230.d723a421.chunk.js","mappings":"+VAAO,IAAMA,EAAW,+BACXC,EAAU,2CAEVC,EAAaF,EAAW,kBAAoBC,EAAU,yBACtDE,EAAgBH,EAAW,sBAAwBC,EAAU,yBAE7DG,EACTJ,EAAW,mBAAqBC,EAChC,qJAESI,EAAiB,wGACjBC,EAAc,sGAGdC,EAAS,sCACTC,EAAW,sGACXC,EAAa,kC,+JCRpBC,EAAU,CACd,eAAgB,oBA0GlB,MAtGA,WACE,OAA4BC,EAAAA,EAAAA,UAAS,CACnCC,SAAU,SACVC,SAAU,YAFZ,eAAOC,EAAP,KAAeC,EAAf,KAKMC,EAAkB,SAACC,GACvBF,GAAU,SAACG,GAAD,eAAC,UACNA,GADK,cAEPD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,WAE5BC,QAAQC,IAAIT,IAGNU,GAAgBC,EAAAA,EAAAA,YAAWC,EAAAA,GAA3BF,YAGFG,GADKC,aAAaC,QAAQ,eACfC,EAAAA,EAAAA,OAjBD,8CAoBhB,WAAsBb,GAAtB,6FACEA,EAAEc,iBADJ,kBAIgCC,MAAM,GAAD,OAC5BhC,EAAAA,GAD4B,qCACSC,EAAAA,KAL9C,cAIUgC,EAJV,gBAOwBA,EAAcC,OAPtC,cAOUC,EAPV,iBAQgCH,MAAM,GAAD,OAC5BhC,EAAAA,GAD4B,qDACyBC,EAAAA,IACxD,CACEmC,OAAQ,OACR1B,QAASA,EACT2B,KAAMC,KAAKC,WAAL,kBACDzB,GADC,IAEJ0B,cAAa,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAOK,mBAfhC,eAQUC,EARV,iBAmB6BA,EAAcP,OAnB3C,eAmBUQ,EAnBV,iBAoBkCV,MAAM,GAAD,OAC9BhC,EAAAA,GAD8B,uCACSC,EAAAA,IAC1C,CACEmC,OAAQ,OACR1B,QAASA,EACT2B,KAAMC,KAAKC,UAAU,CACnBC,cAAa,OAAEE,QAAF,IAAEA,OAAF,EAAEA,EAAYF,kBA1BrC,eAoBUG,EApBV,iBA8B6BA,EAAgBT,OA9B7C,QA8BUU,EA9BV,OAgCIhB,aAAaiB,QAAQ,aAArB,OAAmCD,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAYE,YAC/CnB,EAAS,SACTH,GAAY,GAlChB,kDAoCIF,QAAQC,IAAR,MApCJ,2DApBgB,sBA6DhB,OACE,gBAAKwB,UAAU,UAAf,UACE,gBAAKA,UAAU,QAAf,UACE,gBAAKA,UAAU,OAAf,UACE,6BACE,qCACA,kBACEC,KAAK,QACL5B,KAAK,WACL6B,YAAY,wBACZC,SAAUlC,KAEZ,kBACEgC,KAAK,WACL5B,KAAK,WACL6B,YAAY,WACZC,SAAUlC,KAEZ,mBACEmC,QAAS,SAAClC,IAhFN,oCAiFFmC,CAAOnC,IAFX,sBAOA,8CACkB,KAChB,cAAGoC,KAAK,oCAAR,6BAEF,sGAGE","sources":["Url_s.js","pages/SignUp/index.jsx"],"sourcesContent":["export const BASE_URL = \"https://api.themoviedb.org/3\";\r\nexport const API_KEY = \"api_key=210df5155329bef70be1615bd2091852\";\r\n\r\nexport const popularUrl = BASE_URL + \"/movie/popular?\" + API_KEY + \"&language=en-US&page=1\";\r\nexport const nowPlayingUrl = BASE_URL + \"/movie/now_playing?\" + API_KEY + \"&language=en-US&page=1\";\r\n\r\nexport const discoverUrl =\r\n    BASE_URL + \"/discover/movie?\" + API_KEY +\r\n    \"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&year=&with_genres=37&with_watch_monetization_types=flatrate\";\r\n\r\nexport const movieGenresUrl = \"https://api.themoviedb.org/3/genre/movie/list?api_key=210df5155329bef70be1615bd2091852&language=en-US\";\r\nexport const tvGenresUrl = \" https://api.themoviedb.org/3/genre/tv/list?api_key=210df5155329bef70be1615bd2091852&language=en-US\";\r\n\r\n\r\nexport const imgUrl = \"https://image.tmdb.org/t/p/original\";\r\nexport const noImgUrl = \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJLICBu_i2rNNd8l9Zz-DUNSwFXR9xAzCutg&usqp=CAU\"\r\nexport const youtubeUrl = \"https://www.youtube.com/embed/\";\r\n\r\n\r\n","import { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../Providers/AuthContext\";\r\nimport { BASE_URL, API_KEY } from \"../../Url_s\";\r\n\r\nimport \"./index.scss\";\r\n\r\n\r\nconst headers = {\r\n  \"Content-Type\": \"application/json\",\r\n};\r\n\r\n\r\nfunction SignUp() {\r\n  const [values, setValues] = useState({\r\n    username: \"Arsen7\",\r\n    password: \"1234567\",\r\n  });\r\n\r\n  const onChangeHandler = (e) => {\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n    console.log(values);\r\n  };\r\n\r\n  const { setLoggedIn } = useContext(AuthContext);\r\n\r\n  const id = localStorage.getItem(\"session-id\");\r\n  const navigate = useNavigate();\r\n\r\n\r\n  async function signIn(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const tokenResponse = await fetch(\r\n        `${BASE_URL}/authentication/token/new?${API_KEY}`\r\n      );\r\n      const token = await tokenResponse.json();\r\n      const loginResponse = await fetch(\r\n        `${BASE_URL}/authentication/token/validate_with_login?${API_KEY}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: headers,\r\n          body: JSON.stringify({\r\n            ...values,\r\n            request_token: token?.request_token,\r\n          }),\r\n        }\r\n      );\r\n      const loginToken = await loginResponse.json();\r\n      const sessionResponse = await fetch(\r\n        `${BASE_URL}/authentication/session/new?${API_KEY}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: headers,\r\n          body: JSON.stringify({\r\n            request_token: loginToken?.request_token,\r\n          }),\r\n        }\r\n      );\r\n      const sessionRes = await sessionResponse.json();\r\n\r\n      localStorage.setItem(\"session-id\", sessionRes?.session_id);\r\n      navigate(\"/home\");\r\n      setLoggedIn(true);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"section\">\r\n      <div className=\"cover\">\r\n        <div className=\"form\">\r\n          <form>\r\n            <h1>Sign In</h1>\r\n            <input\r\n              type=\"emial\"\r\n              name=\"username\"\r\n              placeholder=\"Email or phone number\"\r\n              onChange={onChangeHandler}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              onChange={onChangeHandler}\r\n            />\r\n            <button\r\n              onClick={(e) => {\r\n                signIn(e);\r\n              }}\r\n            >\r\n              Sign In\r\n            </button>\r\n            <span>\r\n              New to Netflix?{\" \"}\r\n              <a href=\"https://www.themoviedb.org/signup\">Sign up now</a>\r\n            </span>\r\n            <small>\r\n              This page is protected by Google reCAPCHA to ensure you're not a\r\n              bot.\r\n              <b> Learn more</b>\r\n            </small>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n"],"names":["BASE_URL","API_KEY","popularUrl","nowPlayingUrl","discoverUrl","movieGenresUrl","tvGenresUrl","imgUrl","noImgUrl","youtubeUrl","headers","useState","username","password","values","setValues","onChangeHandler","e","prev","target","name","value","console","log","setLoggedIn","useContext","AuthContext","navigate","localStorage","getItem","useNavigate","preventDefault","fetch","tokenResponse","json","token","method","body","JSON","stringify","request_token","loginResponse","loginToken","sessionResponse","sessionRes","setItem","session_id","className","type","placeholder","onChange","onClick","signIn","href"],"sourceRoot":""}